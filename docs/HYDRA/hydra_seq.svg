<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="525px" preserveAspectRatio="none" style="width:1044px;height:525px;" version="1.1" viewBox="0 0 1044 525" width="1044px" zoomAndPan="magnify"><defs><filter height="300%" id="fk4x6tn43uzs" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fk4x6tn43uzs)" height="75.3984" style="stroke: #000000; stroke-width: 2.0;" width="278" x="686.5" y="55.2969"/><rect fill="#FFFFFF" filter="url(#fk4x6tn43uzs)" height="323.2656" style="stroke: #000000; stroke-width: 2.0;" width="1019.5" x="13" y="144.6953"/><rect fill="#FFFFFF" height="131.3359" style="stroke: none; stroke-width: 1.0;" width="1019.5" x="13" y="336.625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="88" x2="88" y1="38.2969" y2="484.9609"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="324" x2="324" y1="38.2969" y2="484.9609"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="485.5" x2="485.5" y1="38.2969" y2="484.9609"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="616.5" x2="616.5" y1="38.2969" y2="484.9609"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="776.5" x2="776.5" y1="38.2969" y2="484.9609"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="912.5" x2="912.5" y1="38.2969" y2="484.9609"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="991.5" x2="991.5" y1="38.2969" y2="484.9609"/><rect fill="#FEFECE" filter="url(#fk4x6tn43uzs)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="126" x="23" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="112" x="30" y="22.9951">R Comms Board</text><rect fill="#FEFECE" filter="url(#fk4x6tn43uzs)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="126" x="23" y="483.9609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="112" x="30" y="503.9561">R Comms Board</text><rect fill="#FEFECE" filter="url(#fk4x6tn43uzs)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="270" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="277" y="22.9951">Comms Task</text><rect fill="#FEFECE" filter="url(#fk4x6tn43uzs)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="270" y="483.9609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="277" y="503.9561">Comms Task</text><rect fill="#FEFECE" filter="url(#fk4x6tn43uzs)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="97" x="435.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="83" x="442.5" y="22.9951">Data Queue</text><rect fill="#FEFECE" filter="url(#fk4x6tn43uzs)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="97" x="435.5" y="483.9609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="83" x="442.5" y="503.9561">Data Queue</text><rect fill="#FEFECE" filter="url(#fk4x6tn43uzs)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="136" x="546.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="122" x="553.5" y="22.9951">Command Queue</text><rect fill="#FEFECE" filter="url(#fk4x6tn43uzs)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="136" x="546.5" y="483.9609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="122" x="553.5" y="503.9561">Command Queue</text><rect fill="#FEFECE" filter="url(#fk4x6tn43uzs)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="157" x="696.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="143" x="703.5" y="22.9951">Sensors/Valves Task</text><rect fill="#FEFECE" filter="url(#fk4x6tn43uzs)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="157" x="696.5" y="483.9609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="143" x="703.5" y="503.9561">Sensors/Valves Task</text><rect fill="#FEFECE" filter="url(#fk4x6tn43uzs)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="71" x="875.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="57" x="882.5" y="22.9951">Sensors</text><rect fill="#FEFECE" filter="url(#fk4x6tn43uzs)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="71" x="875.5" y="483.9609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="57" x="882.5" y="503.9561">Sensors</text><rect fill="#FEFECE" filter="url(#fk4x6tn43uzs)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="58" x="960.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="967.5" y="22.9951">Valves</text><rect fill="#FEFECE" filter="url(#fk4x6tn43uzs)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="58" x="960.5" y="483.9609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="967.5" y="503.9561">Valves</text><path d="M686.5,55.2969 L763.5,55.2969 L763.5,62.2969 L753.5,72.2969 L686.5,72.2969 L686.5,55.2969 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="75.3984" style="stroke: #000000; stroke-width: 2.0;" width="278" x="686.5" y="55.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="701.5" y="68.3638">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="181" x="778.5" y="67.5073">[Continuously read sensors]</text><polygon fill="#A80036" points="901,89.5625,911,93.5625,901,97.5625,905,93.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="777" x2="907" y1="93.5625" y2="93.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="784" y="88.4966">Read sensor data</text><polygon fill="#A80036" points="788,118.6953,778,122.6953,788,126.6953,784,122.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="782" x2="912" y1="122.6953" y2="122.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="794" y="117.6294">Sensor data</text><path d="M13,144.6953 L77,144.6953 L77,151.6953 L67,161.6953 L13,161.6953 L13,144.6953 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="323.2656" style="stroke: #000000; stroke-width: 2.0;" width="1019.5" x="13" y="144.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="28" y="157.7622">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="118" x="92" y="156.9058">[Status Command]</text><polygon fill="#A80036" points="312,178.9609,322,182.9609,312,186.9609,316,182.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="88" x2="318" y1="182.9609" y2="182.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="95" y="177.895">Status Command</text><polygon fill="#A80036" points="765,208.0938,775,212.0938,765,216.0938,769,212.0938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="324" x2="771" y1="212.0938" y2="212.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="132" x="331" y="207.0278">Request sensor data</text><polygon fill="#A80036" points="497,237.2266,487,241.2266,497,245.2266,493,241.2266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="491" x2="776" y1="241.2266" y2="241.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="503" y="236.1606">Enqueue requested data</text><polygon fill="#A80036" points="474,266.3594,484,270.3594,474,274.3594,478,270.3594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="324" x2="480" y1="270.3594" y2="270.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="138" x="331" y="265.2935">Dequeue sensor data</text><polygon fill="#A80036" points="335,295.4922,325,299.4922,335,303.4922,331,299.4922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="329" x2="485" y1="299.4922" y2="299.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="341" y="294.4263">Sensor data</text><polygon fill="#A80036" points="99,324.625,89,328.625,99,332.625,95,328.625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="93" x2="323" y1="328.625" y2="328.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="212" x="105" y="323.5591">Status Ack Command (with data)</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="13" x2="1032.5" y1="337.625" y2="337.625"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="112" x="18" y="347.8354">[Valve Command]</text><polygon fill="#A80036" points="312,368.5625,322,372.5625,312,376.5625,316,372.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="88" x2="318" y1="372.5625" y2="372.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="95" y="367.4966">Valve Command</text><polygon fill="#A80036" points="99,397.6953,89,401.6953,99,405.6953,95,401.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="93" x2="323" y1="401.6953" y2="401.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="133" x="105" y="396.6294">Valve Ack Command</text><polygon fill="#A80036" points="765,426.8281,775,430.8281,765,434.8281,769,430.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="324" x2="771" y1="430.8281" y2="430.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="331" y="425.7622">Command to actuate valve</text><polygon fill="#A80036" points="979.5,455.9609,989.5,459.9609,979.5,463.9609,983.5,459.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="777" x2="985.5" y1="459.9609" y2="459.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="784" y="454.895">Actuate valve</text><!--MD5=[fbb93a72b6ca9c260f4ceee7a16c346e]
@startuml tvcs_seq
participant "R Comms Board" as R
participant "Comms Task" as T1
participant "Data Queue" as DQ
participant "Command Queue" as CQ
participant "Sensors/Valves Task" as T2
participant "Sensors" as S
participant "Valves" as V

loop Continuously read sensors
    T2 -> S: Read sensor data
    S - -> T2: Sensor data
end

alt Status Command
R -> T1: Status Command
T1 -> T2: Request sensor data
T2 -> DQ: Enqueue requested data
T1 -> DQ: Dequeue sensor data
DQ - -> T1: Sensor data
T1 -> R: Status Ack Command (with data)
else Valve Command
R -> T1: Valve Command
T1 -> R: Valve Ack Command
T1 -> T2: Command to actuate valve
T2 -> V: Actuate valve
end
@enduml

PlantUML version 1.2020.02(Sun Mar 01 10:22:07 WET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.26+4-post-Ubuntu-1ubuntu122.04
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>