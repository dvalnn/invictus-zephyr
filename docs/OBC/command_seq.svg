<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="392px" preserveAspectRatio="none" style="width:784px;height:392px;" version="1.1" viewBox="0 0 784 392" width="784px" zoomAndPan="magnify"><defs><filter height="300%" id="f1l4tloeoh7kej" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1l4tloeoh7kej)" height="280.3281" style="stroke: #000000; stroke-width: 2.0;" width="760.5" x="13" y="55.2969"/><rect fill="#FFFFFF" filter="url(#f1l4tloeoh7kej)" height="75.3984" style="stroke: #000000; stroke-width: 2.0;" width="554.5" x="147" y="224.0938"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="85" x2="85" y1="38.2969" y2="352.625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="184" x2="184" y1="38.2969" y2="352.625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="246" x2="246" y1="38.2969" y2="352.625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="384.5" x2="384.5" y1="38.2969" y2="352.625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="633.5" x2="633.5" y1="38.2969" y2="352.625"/><rect fill="#FEFECE" filter="url(#f1l4tloeoh7kej)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="120" x="23" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="106" x="30" y="22.9951">Mission Control</text><rect fill="#FEFECE" filter="url(#f1l4tloeoh7kej)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="120" x="23" y="351.625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="106" x="30" y="371.6201">Mission Control</text><rect fill="#FEFECE" filter="url(#f1l4tloeoh7kej)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="51" x="157" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="164" y="22.9951">TVCS</text><rect fill="#FEFECE" filter="url(#f1l4tloeoh7kej)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="51" x="157" y="351.625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="164" y="371.6201">TVCS</text><rect fill="#FEFECE" filter="url(#f1l4tloeoh7kej)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="45" x="222" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31" x="229" y="22.9951">OBC</text><rect fill="#FEFECE" filter="url(#f1l4tloeoh7kej)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="45" x="222" y="351.625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31" x="229" y="371.6201">OBC</text><rect fill="#FEFECE" filter="url(#f1l4tloeoh7kej)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="347.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="354.5" y="22.9951">RS Task</text><rect fill="#FEFECE" filter="url(#f1l4tloeoh7kej)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="347.5" y="351.625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="354.5" y="371.6201">RS Task</text><rect fill="#FEFECE" filter="url(#f1l4tloeoh7kej)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="575.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="98" x="582.5" y="22.9951">State Machine</text><rect fill="#FEFECE" filter="url(#f1l4tloeoh7kej)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="575.5" y="351.625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="98" x="582.5" y="371.6201">State Machine</text><path d="M13,55.2969 L205,55.2969 L205,62.2969 L195,72.2969 L13,72.2969 L13,55.2969 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="280.3281" style="stroke: #000000; stroke-width: 2.0;" width="760.5" x="13" y="55.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="147" x="28" y="68.3638">Command Received</text><polygon fill="#A80036" points="621.5,89.5625,631.5,93.5625,621.5,97.5625,625.5,93.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="85" x2="627.5" y1="93.5625" y2="93.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="92" y="88.4966">Command (LoRa)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="633.5" x2="675.5" y1="137.8281" y2="137.8281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="675.5" x2="675.5" y1="137.8281" y2="150.8281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="634.5" x2="675.5" y1="150.8281" y2="150.8281"/><polygon fill="#A80036" points="644.5,146.8281,634.5,150.8281,644.5,154.8281,640.5,150.8281" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="640.5" y="117.6294">Process Command</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="107" x="644.5" y="132.7622">in State Machine</text><polygon fill="#A80036" points="395.5,175.9609,385.5,179.9609,395.5,183.9609,391.5,179.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="389.5" x2="632.5" y1="179.9609" y2="179.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="225" x="401.5" y="174.895">Forward Command (Priority Queue)</text><polygon fill="#A80036" points="195.5,205.0938,185.5,209.0938,195.5,213.0938,191.5,209.0938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="189.5" x2="383.5" y1="209.0938" y2="209.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="176" x="201.5" y="204.0278">Forward Command (RS485)</text><path d="M147,224.0938 L310,224.0938 L310,231.0938 L300,241.0938 L147,241.0938 L147,224.0938 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="75.3984" style="stroke: #000000; stroke-width: 2.0;" width="554.5" x="147" y="224.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="118" x="162" y="237.1606">Read Command</text><polygon fill="#A80036" points="372.5,258.3594,382.5,262.3594,372.5,266.3594,376.5,262.3594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="184.5" x2="378.5" y1="262.3594" y2="262.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="132" x="191.5" y="257.2935">Return Data (RS485)</text><polygon fill="#A80036" points="621.5,287.4922,631.5,291.4922,621.5,295.4922,625.5,291.4922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="384.5" x2="627.5" y1="291.4922" y2="291.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="181" x="391.5" y="286.4263">Return Data (Priority Queue)</text><polygon fill="#A80036" points="96,323.625,86,327.625,96,331.625,92,327.625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="90" x2="632.5" y1="327.625" y2="327.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="139" x="102" y="322.5591">Command Ack (LoRa)</text><!--MD5=[87a4e83ad952d4846165be3c3b8c3f81]
@startuml command_seq
participant "Mission Control" as MC
participant "TVCS" as TVCS
participant "OBC" as OBC
participant "RS Task" as RS
participant "State Machine" as SM

group Command Received
    MC -> SM: Command (LoRa)
    SM -> SM: Process Command\n in State Machine
    SM -> RS: Forward Command (Priority Queue)
    RS -> TVCS: Forward Command (RS485)
    group Read Command
        TVCS - -> RS: Return Data (RS485)
        RS - -> SM: Return Data (Priority Queue)
    end
    SM - -> MC: Command Ack (LoRa)
end

@enduml

PlantUML version 1.2020.02(Sun Mar 01 10:22:07 WET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.26+4-post-Ubuntu-1ubuntu122.04
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>