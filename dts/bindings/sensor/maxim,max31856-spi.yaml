---

description: |
  MAX31856 Precision Thermocouple to Digital Converter with Linearization

compatible: "maxim,max31856"

include: spi-device.yaml

properties:
  drdy-gpios:
    type: phandle-array
    required: false
    description: |
      GPIO connected to the negated Data Ready output.
      Active Low.

  fault-gpios:
    type: phandle-array
    required: false
    description: |
      GPIO connected to the negated Fault output.
      Represents cable, thermocouple or temperature fault.
      Active low.

  thermocouple-type:
    type: int
    required: true
    enum:
      - 0   # B Type
      - 1   # E Type
      - 2   # J Type
      - 3   # K Type
      - 4   # N Type
      - 5   # R Type
      - 6   # S Type
      - 7   # T Type
      - 8   # VMODE G8
      - 12  # VMODE G32
    description: |
      Select the type of Thermocouple. Order: [B E J K N R S T G8 G32]
      (See include/invictus2/dt-bindings/sensor/maxim/max31856.h)

  filter-50hz:
    type: boolean
    required: false
    description: |
      Enable 50Hz line noise rejection filter. If not set, 60Hz is used.

  averaging-mode:
    type: int
    required: false
    default: 0
    enum:
      - 0  # 1 sample
      - 1  # 2 samples
      - 2  # 4 samples
      - 3  # 8 samples
      - 4  # 16 samples
    description: |
      Select number of samples to average for noise reduction.
      A higher value increases conversion time but reduces noise.
      (See include/invictus2/dt-bindings/sensor/maxim/max31856.h)

  open-circuit-mode:
    type: int
    required: false
    default: 0
    enum:
      - 0  # disabled
      - 1  # Rs < 5k
      - 2  # 5k < Rs < 40k, t < 2ms
      - 3  # 5k < Rs < 40k, t > 2ms
    description: |
      Select open-circuit fault detection mode.
      Runs once every 16 samples if active. Depends on RS and time constant.
      (See include/invictus2/dt-bindings/sensor/maxim/max31856.h)

  cj-offset:
    type: int
    required: false
    default: 0
    description: |
      Offset to apply to cold-junction sensor reading, in steps of 0.0625°C.
      Range: -128 to 127 (signed 8 bit), e.g., offset -2.5°C = -40.
